# üõ†Ô∏è HelpDesk Ecosystem: Telegram Bot + Web + MiniApp

–ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞—è–≤–æ–∫ –¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π —Å —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π (—Ñ–∏–ª–∏–∞–ª—ã, —Å–∫–ª–∞–¥—ã, –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏—è).  
–ü—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω –∫–∞–∫ –µ–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –∑–∞—è–≤–æ–∫: –∑–∞–∫–∞–∑ –∫–∞—Ä—Ç—Ä–∏–¥–∂–µ–π, —Ä–µ–º–æ–Ω—Ç —Ç–µ—Ö–Ω–∏–∫–∏, –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ, IT-–ø–æ–º–æ—â—å –∏ —Ç.–¥.

---

## üöÄ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- üì¶ **–ó–∞–∫–∞–∑—ã –∫–∞—Ä—Ç—Ä–∏–¥–∂–µ–π**: Telegram-–±–æ—Ç, MiniApp –∏ Web-–ø–∞–Ω–µ–ª—å
- üìä **Web-–æ—Ç—á—ë—Ç—ã –∏ —Ñ–∏–ª—å—Ç—Ä—ã**: –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–æ —Ñ–∏–ª–∏–∞–ª–∞–º, –∫–æ–ª–∏—á–µ—Å—Ç–≤—É, —Å—Ä–æ–∫–∞–º
- üßë‚Äçüíº **–†–æ–ª–µ–≤–æ–π –¥–æ—Å—Ç—É–ø**: –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã, –∫–ª–∞–¥–æ–≤—â–∏–∫–∏, —Ñ–∏–ª–∏–∞–ª—ã
- üì° **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**: Telegram + SLA-–Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è + (–≤ –±—É–¥—É—â–µ–º email)
- üîÑ **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏**: –ø–æ–¥–¥–µ—Ä–∂–∫–∞ 1–° (–æ—Å—Ç–∞—Ç–∫–∏), SMTP (–ø–æ—á—Ç–∞), —ç–∫—Å–ø–æ—Ä—Ç –≤ Excel
- üìÅ **–ú–∏–≥—Ä–∞—Ü–∏–∏**: –∏–∑ SQLite ‚Üí PostgreSQL –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç
- üß© **–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å**: —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ —Ä–∞–∑–¥–µ–ª–µ–Ω–∞ –ø–æ –º–æ–¥—É–ª—è–º

---

## üß© –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```bash
project/
‚îú‚îÄ‚îÄ bot/                  # Telegram-–±–æ—Ç: FSM, –ª–æ–≥–∏–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ handlers/         # –•—ç–Ω–¥–ª–µ—Ä—ã –ø–æ —Ñ—É–Ω–∫—Ü–∏—è–º
‚îÇ   ‚îú‚îÄ‚îÄ keyboards/        # –ò–Ω–ª–∞–π–Ω / reply –∫–Ω–æ–ø–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ utils/            # FSM, –≥–µ–Ω–µ—Ä–∞—Ü–∏—è ID, –≤–∞–ª–∏–¥–∞—Ü–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ main.py
‚îú‚îÄ‚îÄ webpanel/             # Django Admin / Web UI
‚îÇ   ‚îú‚îÄ‚îÄ views/            # API –∏ UI-–ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ templates/        # HTML-—à–∞–±–ª–æ–Ω—ã
‚îÇ   ‚îî‚îÄ‚îÄ admin.py
‚îú‚îÄ‚îÄ miniapp/              # Telegram Mini App (WebView)
‚îÇ   ‚îú‚îÄ‚îÄ components/       # UI-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ app.js
‚îú‚îÄ‚îÄ database/
‚îÇ   ‚îú‚îÄ‚îÄ schema.sql        # –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î
‚îÇ   ‚îú‚îÄ‚îÄ seed.py           # –ù–∞—á–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
‚îÇ   ‚îú‚îÄ‚îÄ migrate.py        # –≠–∫—Å–ø–æ—Ä—Ç –≤ PostgreSQL
‚îÇ   ‚îî‚îÄ‚îÄ archive_policy.json
‚îú‚îÄ‚îÄ cron/
‚îÇ   ‚îú‚îÄ‚îÄ backup.sh         # –ë—ç–∫–∞–ø—ã –±–∞–∑—ã
‚îÇ   ‚îú‚îÄ‚îÄ sla_notify.py     # SLA-–Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ cleanup.sh        # –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö —Ä–µ–∑–µ—Ä–≤–æ–≤
‚îú‚îÄ‚îÄ integrations/
‚îÇ   ‚îú‚îÄ‚îÄ one_c_connector.py  # –û—Å—Ç–∞—Ç–∫–∏ –∏–∑ 1–°
‚îÇ   ‚îî‚îÄ‚îÄ smtp_client.py      # Email-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îú‚îÄ‚îÄ logger.py         # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îÇ   ‚îî‚îÄ‚îÄ formatter.py      # –î–∞—Ç–∞, —á–∏—Å–ª–æ–≤—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã
‚îú‚îÄ‚îÄ tests/
‚îÇ   ‚îú‚îÄ‚îÄ test_bot.py
‚îÇ   ‚îú‚îÄ‚îÄ test_web.py
‚îÇ   ‚îî‚îÄ‚îÄ test_database.py
‚îú‚îÄ‚îÄ .env                  # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ requirements.txt      # pip-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ README.md             # –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
‚îî‚îÄ‚îÄ ROADMAP.md            # –î–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞
```

---

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –ë—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞
```bash
git clone https://github.com/your-org/helpdesk-bot.git
cd helpdesk-bot
python3 setup.py
```

### –†—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞
```bash
git clone https://github.com/your-org/helpdesk-bot.git
cd helpdesk-bot
pip install -r requirements.txt
cp .env.example .env
python3 database/seed.py
python3 test_database.py
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞
1. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `.env`:
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `BOT_TOKEN` (–ø–æ–ª—É—á–∏—Ç–µ —É @BotFather)
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `ADMIN_IDS` (–≤–∞—à Telegram ID)
   - –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –¥—Ä—É–≥–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞:
   ```bash
   python3 bot/main.py
   ```

---

## üìà –í –±–ª–∏–∂–∞–π—à–∏—Ö —Ä–µ–ª–∏–∑–∞—Ö (ROADMAP)

- [x] –ó–∞–∫–∞–∑ –∫–∞—Ä—Ç—Ä–∏–¥–∂–µ–π —á–µ—Ä–µ–∑ Telegram –∏ MiniApp
- [x] –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ Telegram –∏ SLA-–Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è
- [ ] Web-–∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–æ —Ñ–∏–ª–∏–∞–ª–∞–º, Excel-—ç–∫—Å–ø–æ—Ä—Ç
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å 1–° –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ—Å—Ç–∞—Ç–∫–æ–≤
- [ ] –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ Telegram ID + Web login
- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ PostgreSQL –∏ –º–∏–≥—Ä–∞—Ü–∏–∏
- [ ] Email-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∏ –æ—Ç—á—ë—Ç—ã –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é
- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∑–∞—è–≤–æ–∫ –Ω–∞ —Ä–µ–º–æ–Ω—Ç/–æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ —Ö—Ä–∞–Ω–µ–Ω–∏–µ

- –ó–∞—è–≤–∫–∏ –Ω–µ —É–¥–∞–ª—è—é—Ç—Å—è ‚Äî —Ç–æ–ª—å–∫–æ –∞—Ä—Ö–∏–≤–∏—Ä—É—é—Ç—Å—è
- –†–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏: –µ–∂–µ–¥–Ω–µ–≤–Ω–æ + –µ–∂–µ–≥–æ–¥–Ω–æ
- SLA-–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥: —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è, –µ—Å–ª–∏ –Ω–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ –≤ —Ç–µ—á–µ–Ω–∏–µ 1 —á–∞—Å–∞
- Telegram ID –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ –ø–µ—Ä–≤–∏—á–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä (–¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∑–∞—è–≤–æ–∫)

---

## üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

–°–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç SQLite —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–∞ PostgreSQL. –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã:

- **users** - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–∏—Å—Ç–µ–º—ã (Telegram ID, —Ä–æ–ª–∏)
- **branches** - –§–∏–ª–∏–∞–ª—ã –∏ –æ—Ç–¥–µ–ª–µ–Ω–∏—è
- **cartridge_types** - –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –∫–∞—Ä—Ç—Ä–∏–¥–∂–µ–π
- **stock_items** - –û—Å—Ç–∞—Ç–∫–∏ –Ω–∞ —Å–∫–ª–∞–¥–∞—Ö
- **requests** - –ó–∞—è–≤–∫–∏ –Ω–∞ –∫–∞—Ä—Ç—Ä–∏–¥–∂–∏
- **request_items** - –≠–ª–µ–º–µ–Ω—Ç—ã –∑–∞—è–≤–æ–∫
- **logs** - –ê—É–¥–∏—Ç-–¥–Ω–µ–≤–Ω–∏–∫ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- **one_c_snapshot** - –°–Ω–∏–º–∫–∏ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å 1–°

–ü–æ–¥—Ä–æ–±–Ω–∞—è —Å—Ö–µ–º–∞: `database/schema.sql`

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –¢–µ—Å—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
python3 test_database.py

# –ü–æ–≤—Ç–æ—Ä–Ω–æ–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
python3 database/seed.py
```

## ü§ù –ü–æ–¥–¥–µ—Ä–∂–∫–∞

- –°–æ–∑–¥–∞–Ω–æ –¥–ª—è –Ω—É–∂–¥ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π —Å —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π
- –ö–æ–Ω—Ç–∞–∫—Ç—ã, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –¥–µ–º–æ –¥–æ—Å—Ç—É–ø–Ω—ã –≤ [ROADMAP.md]
